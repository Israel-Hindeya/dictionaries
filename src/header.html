<div id="fairy-dict" class="dictWrapper" ng-controller="dictCtrl">
	<nav
		class="navbar navbar-default navbar-fixed-top {{
			inFrame ? 'in-frame' : ''
		}}"
	>
		<!-- <div class="container">
      <div class=""> -->
		<form class="navbar-form form-inline" ng-submit="query()">
			<!-- <i class="fa fa-laptop fa-lg default-page"></i> -->
			<div class="form-group history-group pull-left" ng-show="previous">
				<!-- history -->
				<div class="btn-group history" uib-dropdown on-toggle="toggleDropdown(open)">
					<button
						id="history-btn"
						type="button"
						class="btn btn-default"
						title="{{ previous.w }}"
						ng-click="queryHistory(previous.w)"
					>
						{{ previous.w }}
					</button>
					<button type="button" class="btn btn-default" uib-dropdown-toggle>
						<i class="fa fa-history fa-lg" aria-hidden="true"></i>
						<span class="sr-only">History</span>
					</button>
					<ul
						class="dropdown-menu"
						uib-dropdown-menu
						role="menu"
						aria-labelledby="history-btn"
					>
						<li role="menuitem" ng-repeat="item in history track by $index">
						<a
							ng-click="queryHistory(item.w)"
							title="{{ item.w }}"
							ng-init="hideDeleteBtn=1"
							ng-mouseenter="hideDeleteBtn=0"
							ng-mouseleave="hideDeleteBtn=1"
						>
							<span class="ellipsis history-word" ng-class="{'text-bold': item.w === word}">{{
							item.w
							}}</span>

							<span class="pull-right">
								<i
									class="fa fa-star"
									aria-hidden="true"
									ng-repeat="i in [1,2,3]"
									ng-class="{vshow: item.r >= i}"
								></i>
								<i
									class="fa fa-times text-danger delete-word"
									ng-class="{vhide: hideDeleteBtn}"
									ng-click="deleteHistory(item, $index);$event.stopPropagation();$event.preventDefault();"
									aria-hidden="true"
								></i>
							</span>
						</a>
						</li>

						<li class="divider"></li>
						<li role="menuitem">
							<a ng-click="openOptions('history')" href="" class="text-blue more-btn">
								<em>More...</em>
							</a>
						</li>
					</ul>
					<!-- <button
						type="button"
						class="btn btn-default"
						ng-click="openOptions('history')"
					>
						<i class="fa fa-history fa-lg" aria-hidden="true"></i>
						<span class="sr-only">History</span>
					</button> -->
				</div>
			</div>

			<div class="form-group dict-group pull-right">
				<div class="btn-group dictionaries">
					<button
						type="button"
						class="btn btn-default"
						title="{{ previousDictName }}"
						ng-click="query({ previousDict: true })"
					>
						<i class="fa fa-arrow-circle-left" aria-hidden="true"></i>
						<span class="sr-only">Previous</span>
					</button>
					<!-- <button
						class="form-control btn  btn-default dict-name"
						type="button"
						ng-click="openOptions('dictionary')"
					>
						{{ currentDictName }}
					</button> -->
					<div class="btn-group" uib-dropdown uib-keyboard-nav on-toggle="toggleDropdown(open)">
						<button
							uib-dropdown-toggle
							class="form-control btn dropdown-toggle btn-default dict-name"
							type="button"
							id="dropdownMenu1"
							title="{{ currentDictName }}"
						>
						{{ currentDictName }}
						<span class="caret"></span>
						</button>

						<ul
							uib-dropdown-menu
							class="dropdown-menu dict-list pull-right"
							role="menu"
							aria-labelledby="dropdownMenu1"
						>
							<li role="menuitem" ng-repeat="dict in manageDicts" ng-hide="dict.disabled">
								<a ng-click="query({dictName: dict.dictName})" title="{{ dict.dictName }}" 
									class="ellipsis" 
									ng-class="{'text-bold': currentDictName == dict.dictName}">{{
									dict.dictName
								}}</a>
							</li>
							<li class="divider"></li>
							<li role="menuitem">
								<a ng-click="openOptions('dictionary')" href="" class="text-blue">
									<em>More...</em>
								</a>
							</li>
						</ul>
					</div>
					<button
						type="button"
						class="btn btn-default"
						title="{{ nextDictName }}"
						ng-click="query({ nextDict: true })"
					>
						<i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
						<span class="sr-only">Next</span>
					</button>
				</div>
			</div>

			<div class="form-group search-group">
				<div class="pull-right querying text-center" ng-show="querying">
					<i class="fa fa-spinner fa-spin fa-2x" title="Querying..."></i>
				</div>
				<div
					id="fairy-stars"
					class="starrr pull-right"
					ng-hide="querying"
					title="Rating"
				></div>
				<i
					class="fa fa-search fa-lg pull-right"
					aria-hidden="true"
					ng-click="query()"
				></i>

				<div class="search-wrapper">
					<input
						type="text"
						ng-model="word"
						class="form-control dict-input"
						placeholder="input word"
						autofocus
					/>
				</div>
			</div>
		</form>
		<!-- </div>
    </div> -->
	</nav>

	<div class="dict-body" ng-hide="inFrame">
		<div class="dict-wait text-center" ng-show="querying">
			<i class="fa fa-spinner fa-spin fa-4x" title="Querying..."></i>
		</div>

		<div class="text-section">
			<h1>
				<pre class="ascii-title">
.--.        .
|   : o    _|_   o                    o
|   | .  .-.|    .  .-. .--. .-.  .--..  .-. .--.
|   ; | (   |    | (   )|  |(   ) |   | (.-' `--.
'--'-' `-`-'`-'-' `-`-' '  `-`-'`-' -' `-`--'`--'
							</pre
				>
			</h1>
			<p>Trying to make a handy dictionary app.</p>
			<p>
				It's open-source, if you like it or find any bug, please tell me at
				<a
					href="https://github.com/revir/dictionaries"
					target="_blank"
					class="link-github"
					><i
						class="fa fa-github fa-2x"
						title="Bla Bla, it's Open Source."
					></i></a
				>.
			</p>
			<p>
				And also, as an ESL learner, please kindly let me know if you find any
				inappropriate translation in this app.
			</p>
		</div>

		<div
			class="dict_result"
			ng-bind-html="queryResult"
			ng-hide="querying || initial"
		></div>
	</div>
</div>
